
import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
const shadow_esm_import = function(x) { return import(x) };
'use strict';var H8=function(a){if(null!=a&&null!=a.Ge)a=a.Ge(a);else{var b=H8[$APP.aa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=H8._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $APP.$a("IPromiseFactory.-promise",a);}return a},I8=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return I8.j(arguments[0],arguments[1],arguments[2],3<b.length?new $APP.zd(b.slice(3),0,null):null)},J8=new $APP.q(null,"-promise","-promise",-196098007,
null),K8=new $APP.q(null,"promesa.protocols","promesa.protocols",-132625180,null),L8=new $APP.q("promesa.protocols","-bind","promesa.protocols/-bind",1690962013,null),M8=new $APP.q(null,"do!","do!",-522949760,null),N8=new $APP.q("promesa.protocols","-promise","promesa.protocols/-promise",-1959279895,null),Uka=new $APP.q("promesa.core","do!","promesa.core/do!",12645930,null),D9=new $APP.q(null,"___38751__auto__","___38751__auto__",222917856,null),Vka=new $APP.q("promesa.protocols","IPromise","promesa.protocols/IPromise",
1733947164,null),Wka=new $APP.q("nbb.promesa","let","nbb.promesa/let",-319045383,null),O8=new $APP.q(null,"nbb.promesa","nbb.promesa",-357690684,null),E9=new $APP.q(null,"___38732__auto__","___38732__auto__",-417831476,null),Yka=new $APP.q("promesa.protocols","IPromiseFactory","promesa.protocols/IPromiseFactory",56789029,null),P8=new $APP.q(null,"-bind","-bind",238159517,null),Zka=new $APP.q("nbb.promesa","do!","nbb.promesa/do!",-881839789,null),F9=new $APP.q(null,"___38733__auto__","___38733__auto__",
-2139467139,null),Q8=new $APP.q(null,"exprs","exprs",-858606675,null),R8=new $APP.q(null,"executor","executor",-1457220607,null);var G9=function(){function a(d,e,f){var g=S8[$APP.aa(null==d?null:d)];if(null!=g)return g.i?g.i(d,e,f):g.call(null,d,e,f);g=S8._;if(null!=g)return g.i?g.i(d,e,f):g.call(null,d,e,f);throw $APP.$a("IPromise.-bind",d);}function b(d,e){var f=S8[$APP.aa(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=S8._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw $APP.$a("IPromise.-bind",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.i=a;return c}(),S8=function S8(a){switch(arguments.length){case 2:return S8.h(arguments[0],arguments[1]);case 3:return S8.i(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.g(arguments.length)].join(""));}};S8.h=function(a,b){return null!=a&&null!=a.lf?a.lf(a,b):G9(a,b)};S8.i=function(a,b,c){return null!=a&&null!=a.mf?a.mf(a,b,c):G9(a,b,c)};S8.o=3;var U8=Promise;(function(a){a.prototype.Ge=function(){return this};a.prototype.lf=function(b,c){return this.then(function(d){return c.g?c.g(d):c.call(null,d)})};a.prototype.mf=function(b,c){return this.then(function(d){return c.g?c.g(d):c.call(null,d)})};return function(b,c){this.then(function(d){return c.h?c.h(d,null):c.call(null,d,null)},function(d){return c.h?c.h(null,d):c.call(null,null,d)});return this}})(Promise);
S8._=function(){function a(d,e,f){return S8(H8(d),e,f)}function b(d,e){return S8(H8(d),e)}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.i=a;return c}();Error.prototype.Ge=function(){return U8.reject(this)};H8._=function(a){return U8.resolve(a)};Promise.prototype.ia=$APP.rd;Promise.prototype.T=function(a,b){return $APP.Hc(b,"#\x3cPromise[~]\x3e")};var V8=$APP.oo($APP.gS,null),W8=$APP.oo(K8,null),X8=function X8(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X8.j(arguments[0],arguments[1],2<c.length?new $APP.zd(c.slice(2),0,null):null)};
X8.j=function(a,b,c){return $APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,L8,null,1,null),new $APP.A(null,null,null,1,null),$APP.ge([new $APP.A(null,$APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,$APP.dr,null,1,null),new $APP.A(null,$APP.mf($APP.Xn.g($APP.u($APP.Yn.g(new $APP.A(null,F9,null,1,null))))),null,1,null),$APP.ge([new $APP.A(null,function(){var d=$APP.ae(c);return $APP.l($APP.be.h?$APP.be.h(0,d):$APP.be.call(null,0,d))?$APP.Xn.g($APP.u($APP.Yn.h(new $APP.A(null,N8,null,1,null),new $APP.A(null,
null,null,1,null)))):$APP.l($APP.be.h?$APP.be.h(1,d):$APP.be.call(null,1,d))?$APP.Xn.g($APP.u($APP.Yn.h(new $APP.A(null,N8,null,1,null),new $APP.A(null,$APP.v(c),null,1,null)))):$APP.kf.i(function(e,f){return $APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,L8,null,1,null),new $APP.A(null,f,null,1,null),$APP.ge([new $APP.A(null,$APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,$APP.dr,null,1,null),new $APP.A(null,$APP.mf($APP.Xn.g($APP.u($APP.Yn.g(new $APP.A(null,E9,null,1,null))))),null,1,null),$APP.ge([new $APP.A(null,
e,null,1,null)])))),null,1,null)]))))},$APP.Xn.g($APP.u($APP.Yn.h(new $APP.A(null,N8,null,1,null),new $APP.A(null,$APP.ne(c),null,1,null)))),$APP.sg($APP.gk(c)))}(),null,1,null)])))),null,1,null)]))))};X8.o=2;X8.u=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);c=$APP.w(c);return this.j(b,a,c)};
I8.j=function(a,b,c,d){return $APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,L8,null,1,null),new $APP.A(null,null,null,1,null),$APP.ge([new $APP.A(null,$APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,$APP.dr,null,1,null),new $APP.A(null,$APP.mf($APP.Xn.g($APP.u($APP.Yn.g(new $APP.A(null,D9,null,1,null))))),null,1,null),$APP.ge([new $APP.A(null,$APP.kf.i(function(e,f){var g=$APP.x.i(f,0,null);f=$APP.x.i(f,1,null);return $APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,L8,null,1,null),new $APP.A(null,f,null,1,null),
$APP.ge([new $APP.A(null,$APP.Xn.g($APP.u($APP.Yn.j(new $APP.A(null,$APP.dr,null,1,null),new $APP.A(null,$APP.mf($APP.Xn.g($APP.u($APP.Yn.g(new $APP.A(null,g,null,1,null))))),null,1,null),$APP.ge([new $APP.A(null,e,null,1,null)])))),null,1,null)]))))},$APP.Xn.g($APP.u($APP.Yn.h(new $APP.A(null,Uka,null,1,null),d))),$APP.sg($APP.Tn.h(2,c))),null,1,null)])))),null,1,null)]))))};I8.o=3;
I8.u=function(a){var b=$APP.v(a),c=$APP.w(a);a=$APP.v(c);var d=$APP.w(c);c=$APP.v(d);d=$APP.w(d);return this.j(b,a,c,d)};
var $ka=new $APP.k(null,2,[M8,function(){var a=new $APP.xd(function(){return X8},Zka,$APP.F([$APP.J,$APP.V,$APP.S,$APP.Xs,$APP.uO,$APP.Q,$APP.M,$APP.ap,$APP.Ws,$APP.X,$APP.Y,$APP.ZG],[O8,M8,"nbb/promesa.cljs",18,new $APP.k(null,6,[$APP.WX,!0,$APP.Oq,0,$APP.WM,0,$APP.sN,$APP.I($APP.I(Q8)),$APP.X,$APP.I(new $APP.B(null,2,5,$APP.C,[$APP.fm,Q8],null)),$APP.MR,$APP.I(null)],null),1,14,!0,14,$APP.I(new $APP.B(null,2,5,$APP.C,[$APP.fm,Q8],null)),"Execute potentially side effectful code and return a promise resolved\n  to the last expression. Always awaiting the result of each\n  expression.",
$APP.l(X8)?X8.l:null])),b=$APP.kc(a);a=$APP.ue(a);var c=V8.m(null),d=$APP.V.g(a);$APP.Tk.h($APP.m.g(c),$APP.m.g(d));c=new $APP.k(null,4,[$APP.J,V8,$APP.V,d,$APP.X,$APP.X.g(a),$APP.Y,$APP.Y.g(a)],null);return $APP.l($APP.Co.g(a))?$APP.kz(d,b,c):$APP.l($APP.ap.g(a))?$APP.lz(d,b,c):$APP.jz(d,b,c)}(),$APP.pt,function(){var a=new $APP.xd(function(){return I8},Wka,$APP.F([$APP.J,$APP.V,$APP.S,$APP.Xs,$APP.uO,$APP.Q,$APP.M,$APP.ap,$APP.Ws,$APP.X,$APP.Y,$APP.ZG],[O8,$APP.pt,"nbb/promesa.cljs",18,new $APP.k(null,
6,[$APP.WX,!0,$APP.Oq,1,$APP.WM,1,$APP.sN,$APP.I($APP.I($APP.pS,$APP.KV)),$APP.X,$APP.I(new $APP.B(null,3,5,$APP.C,[$APP.pS,$APP.fm,$APP.KV],null)),$APP.MR,$APP.I(null)],null),1,28,!0,28,$APP.I(new $APP.B(null,3,5,$APP.C,[$APP.pS,$APP.fm,$APP.KV],null)),"A `let` alternative that always returns promise and waits for all the\n  promises on the bindings.",$APP.l(I8)?I8.l:null])),b=$APP.kc(a);a=$APP.ue(a);var c=V8.m(null),d=$APP.V.g(a);$APP.Tk.h($APP.m.g(c),$APP.m.g(d));c=new $APP.k(null,4,[$APP.J,V8,
$APP.V,d,$APP.X,$APP.X.g(a),$APP.Y,$APP.Y.g(a)],null);return $APP.l($APP.Co.g(a))?$APP.kz(d,b,c):$APP.l($APP.ap.g(a))?$APP.lz(d,b,c):$APP.jz(d,b,c)}()],null),ala=new $APP.k(null,2,[P8,function(){var a=new $APP.xd(function(){return S8},L8,$APP.F([$APP.zy,$APP.J,$APP.V,$APP.S,$APP.Xs,$APP.uO,$APP.Q,$APP.M,$APP.Ws,$APP.X,$APP.Y,$APP.ZG],[Vka,K8,P8,"promesa/protocols.cljc",9,new $APP.k(null,6,[$APP.WX,!1,$APP.Oq,3,$APP.WM,3,$APP.sN,new $APP.B(null,2,5,$APP.C,[new $APP.B(null,2,5,$APP.C,[$APP.kM,$APP.gM],
null),new $APP.B(null,3,5,$APP.C,[$APP.kM,$APP.gM,R8],null)],null),$APP.X,$APP.I(new $APP.B(null,2,5,$APP.C,[$APP.kM,$APP.gM],null),new $APP.B(null,3,5,$APP.C,[$APP.kM,$APP.gM,R8],null)),$APP.MR,$APP.I(null,null)],null),1,28,30,$APP.I(new $APP.B(null,2,5,$APP.C,[$APP.kM,$APP.gM],null),new $APP.B(null,3,5,$APP.C,[$APP.kM,$APP.gM,R8],null)),"Apply function to a computation and flatten.",$APP.l(S8)?S8.l:null])),b=$APP.kc(a);a=$APP.ue(a);var c=W8.m(null),d=$APP.V.g(a);$APP.Tk.h($APP.m.g(c),$APP.m.g(d));
c=new $APP.k(null,4,[$APP.J,W8,$APP.V,d,$APP.X,$APP.X.g(a),$APP.Y,$APP.Y.g(a)],null);return $APP.l($APP.Co.g(a))?$APP.kz(d,b,c):$APP.l($APP.ap.g(a))?$APP.lz(d,b,c):$APP.jz(d,b,c)}(),J8,function(){var a=new $APP.xd(function(){return H8},N8,$APP.F([$APP.zy,$APP.J,$APP.V,$APP.S,$APP.Xs,$APP.Q,$APP.M,$APP.Ws,$APP.X,$APP.Y,$APP.ZG],[Yka,K8,J8,"promesa/protocols.cljc",12,1,56,58,$APP.I(new $APP.B(null,1,5,$APP.C,[$APP.kM],null)),"Create a promise instance from other types",$APP.l(H8)?H8.l:null])),b=$APP.kc(a);
a=$APP.ue(a);var c=W8.m(null),d=$APP.V.g(a);$APP.Tk.h($APP.m.g(c),$APP.m.g(d));c=new $APP.k(null,4,[$APP.J,W8,$APP.V,d,$APP.X,$APP.X.g(a),$APP.Y,$APP.Y.g(a)],null);return $APP.l($APP.Co.g(a))?$APP.kz(d,b,c):$APP.l($APP.ap.g(a))?$APP.lz(d,b,c):$APP.jz(d,b,c)}()],null);try{$APP.pl.i($APP.wz,$APP.pz,new $APP.k(null,1,[$APP.rp,new $APP.k(null,2,[$APP.gS,$ka,K8,ala],null)],null))}catch(a){throw console.error("An error occurred when calling (nbb.promesa/init)"),a;};
export { $APP, shadow$provide, $jscomp };
